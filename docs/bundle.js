!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=6)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e,t=[];["devs_and_truckers_skills","choreographer","dentists","nurses","chiropractors","farmers","construction_managers","firefighters","geographers","embalmers","pipelayers"].forEach(function(e){t.push("assets/data/"+e+".csv")}),(e=d3).loadData.apply(e,t.concat([function(e,t){var o=d3.select("div.skill-difference"),i=d3.select("div.skill-stack-difference"),n=d3.select("div.all-skills-difference"),a=t[0],r=t[1],l=t[2],c=t[3],s=t[4],d=t[5],u=t[6],b=t[7],f=t[8],p=t[9],m=t[10],v=(t[11],[r,l,c,s,d,u,b,f,p,m]);a.forEach(function(e){e.difference=Math.abs(+e.devs-+e.truckers)});var k=void 0,j=0;for(k=0;k<a.length;k++)a[k].xCoordStacked=j,j+=a[k].difference+1;v.forEach(function(e){var t=void 0,o=0;for(t=0;t<e.length;t++)e[t].xCoordStacked=o,o+=+e[t].difference+1}),console.log(v);var y=d3.select("body").append("div.svg-container").append("svg.scatter");y.at("height",2200).at("width",800).st("fill","#00000");var h=d3.scaleLinear().domain([0,100]).range([0,400]),S=y.selectAll("g.skill-section").data(a).enter().append("g.skill-section"),x=S.append("circle.devs-skill-circle"),g=S.append("circle.truckers-skill-circle");x.at("cx",function(e){return 250+h(e.devs)}).at("r",5).st("fill","#0B24FB").on("mouseenter"),g.at("cx",function(e){return 250+h(e.truckers)}).at("r",5).st("fill","#EB5757");var _=S.at("transform",function(e,t){return"translate(50,"+(20+15*t)+")"}).append("text").text(function(e){return e.skills}).st("text-anchor","right"),J=S.append("line.skill-axis").at("x1",200).at("y1",0).at("x2",800).at("y2",0).at("stroke-width",1).st("stroke","black"),w=S.append("rect.skill-difference-axis");w.at("x",function(e){return 250+h(e.truckers)}).at("width",function(e){return h(e.difference)}).at("height",3).st("fill","#E530BE").st("opacity",0),o.on("click",function(){w.transition().st("opacity",1)});var O=d3.scaleLinear().domain([0,100]).range([0,20]);i.on("click",function(){w.at("x",function(e){return O(e.xCoordStacked)}).at("width",function(e){return O(e.difference)}).on("mouseenter",function(e){return console.log(e.skills)}),S.transition().at("transform","translate(250,10)"),J.st("opacity",0),_.st("opacity",0).text(function(e,t){return t===a.length-1?"Developers":""}).transition().st("opacity",1),x.st("opacity",0),g.st("opacity",0)}),n.on("click",function(){console.log("HELLO")})}]))}},function(module,exports,__webpack_require__){"use strict";function numberWithCommas(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}function selectJobData(e,t){return e.filter(function(e){return e.id_selected===t})}function setupXScale(e){return d3.scaleLinear().domain(d3.extent(e,function(e){return e.similarity})).range([0,800])}function compare(e,t){return e.imp<t.imp?1:e.imp>t.imp?-1:0}function loadScatterplot(){var _d,allData=null,keyObjectJobName={},keyObjectJobNumber={},keyObjectJobAuto={},keyObjectJobWage={},keyObjectSkillName={},selectedJobSkills=[0,0,0,0,0],skills=[],MAX_AUTO=1,MIN_AUTO=0,pathData="assets/data/",fileNames=["crosswalk_jobs","similarity","crosswalk_skills","skills"],files=[];fileNames.forEach(function(e){files.push(pathData+e+".csv")}),(_d=d3).loadData.apply(_d,files.concat([function(err,response){var crosswalk=response[0],similarity=response[1],crosswalkSkills=response[2];skills=response[3],crosswalk.forEach(function(e){e.id=+e.id,e.auto=+e.auto,e.wage=+e.wage,e.number=+e.number}),similarity.forEach(function(e){e.similarity=+e.similarity,e.id_compared=+e.id_compared,e.id_selected=+e.id_selected}),skills.forEach(function(e){e.id_selected=+e.id_selected,e.imp=+e.imp,e.skill_id=+e.skill_id,e.rank=+e.rank}),crosswalkSkills.forEach(function(e){e.skill_id=+e.skill_id}),allData=similarity;var jobSelector=d3.select("body").append("div.job-selector"),currentJobName=d3.select("body").append("div.job-selected-name"),jobSelectedNumber=d3.select("body").append("div.job-selected-number"),chartSvg=d3.select("svg.scatter"),selectedJobData=selectJobData(similarity,415),yScale=d3.scaleLinear().domain([MIN_AUTO,MAX_AUTO]).range([0,600]),xScale=setupXScale(selectedJobData),colorScale=d3.scaleLinear().domain([5,2,1.25,1.1,.9,.75,.5,.2]).range(["#a50026","#d73027","#f46d43","#fee090","#e0f3f8","#74add1","#4575b4","#313695"]),radiusScale=d3.scaleSqrt().domain([0,d3.max(crosswalk,function(e){return e.wage})]).range([0,6]);crosswalk.forEach(function(e){keyObjectJobName[e.id]=e.job_name}),crosswalk.forEach(function(e){keyObjectJobNumber[e.id]=e.number}),crosswalk.forEach(function(e){keyObjectJobAuto[e.id]=e.auto}),crosswalk.forEach(function(e){keyObjectJobWage[e.id]=e.wage}),crosswalkSkills.forEach(function(e){return keyObjectSkillName[e.skill_id]=e.skill});var jobDropdownMenu=d3.select("div.job-selector").append("select.scatter-dropdown-menu"),jobButtons=jobDropdownMenu.selectAll("option.job-button").data(crosswalk).enter().append("option.job-button").at("value",function(e){return e.id});jobButtons.text(function(e){return e.job_name}),jobDropdownMenu.on("change",function(d,i,n){var selectedJobID=eval(d3.select(n[i]).property("value"));console.log(selectedJobID);var updatedData=selectJobData(allData,selectedJobID),xScale=setupXScale(updatedData);d3.selectAll("circle.job").remove();var jobCircles=d3.select("svg.scatter").selectAll("circle.job").data(updatedData).enter().append("circle.job");jobCircles.at("cx",function(e){return xScale(e.similarity)}).at("cy",function(e){return yScale(keyObjectJobAuto[e.id_compared])}).st("fill",function(e){var t=keyObjectJobWage[e.id_selected],o=keyObjectJobWage[e.id_compared];return colorScale(t/o)}).at("r",function(e){var t=keyObjectJobNumber[e.id_compared];return radiusScale(t)}).st("stroke","black"),jobCircles.on("mouseenter",function(e,t,o){var i=d3.select("div.jobTooltip");i.st("visibility","visible");var n=d3.select(o[t]).at("cx"),a=d3.select(o[t]).at("cy");i.st("left",n+"px").st("top",a+"px"),selectedJobSkills=(selectedJobSkills=selectJobData(skills,e.id_compared)).sort(compare),d3.select("div.job-selected-name").text("Main job: "+keyObjectJobName[e.id_selected]),d3.select("div.job-compared-name").text("Compared job: "+keyObjectJobName[e.id_compared]),d3.select("div.job-selected-number").text("Main job quantity: "+numberWithCommas(keyObjectJobNumber[e.id_selected])),d3.select("div.job-compared-number").text("Compared job quantity: "+numberWithCommas(keyObjectJobNumber[e.id_compared]));var r=i.select("div.job-skills-container"),l=(r.selectAll("div.bar-container"),r.selectAll("div.job-bar-name").data(selectedJobSkills)),c=r.selectAll("div.job-bar").data(selectedJobSkills),s=r.selectAll("div.job-bar-value").data(selectedJobSkills);console.log(selectedJobSkills),c.st("height","20px").st("width",function(e){return e.imp+"px"}).st("background","black"),l.text(function(e){return keyObjectSkillName[e.skill_id]}),s.text(function(e){return e.imp})}).on("mouseleave",function(){jobTooltip.st("visibility","hidden")})});var jobCircles=chartSvg.selectAll("circle.job").data(selectedJobData).enter().append("circle.job");jobCircles.at("cx",function(e){return xScale(e.similarity)}).at("cy",function(e){return yScale(keyObjectJobAuto[e.id_compared])}).at("r",function(e){var t=keyObjectJobNumber[e.id_compared];return radiusScale(t)}).st("stroke","black").st("fill",function(e){var t=keyObjectJobWage[e.id_selected],o=keyObjectJobWage[e.id_compared];return colorScale(t/o)});var jobTooltip=d3.select("div.svg-container").append("div.jobTooltip"),jobSelectedName=d3.select("div.job-selected-name"),jobComparedName=jobTooltip.append("div.job-compared-name"),jobComparedNumber=jobTooltip.append("div.job-compared-number"),jobSkillsContainer=jobTooltip.append("div.job-skills-container"),jobSkillsBarRow=jobSkillsContainer.selectAll("div.job-bar-container").data(selectedJobSkills).enter().append("div.bar-container"),jobSkillsNames=jobSkillsBarRow.append("div.job-bar-name").data(selectedJobSkills).enter(),jobSkillsBars=jobSkillsBarRow.append("div.job-bar").data(selectedJobSkills).enter(),jobSkillsValues=jobSkillsBarRow.append("div.job-bar-value").data(selectedJobSkills).enter();jobCircles.on("mouseenter",function(e,t,o){selectedJobSkills=(selectedJobSkills=selectJobData(skills,e.id_compared)).sort(compare);var i=d3.select("div.jobTooltip");i.st("visibility","visible");var n=d3.select(o[t]).at("cx"),a=d3.select(o[t]).at("cy");i.st("left",n+"px").st("top",a+"px"),d3.select("div.job-selected-name").text("Main job: "+keyObjectJobName[e.id_selected]),d3.select("div.job-compared-name").text("Compared job: "+keyObjectJobName[e.id_compared]),d3.select("div.job-selected-number").text("Main job quantity: "+numberWithCommas(keyObjectJobNumber[e.id_selected])),d3.select("div.job-compared-number").text("Compared job quantity: "+numberWithCommas(keyObjectJobNumber[e.id_compared]));var r=i.select("div.job-skills-container"),l=(r.selectAll("div.bar-container"),r.selectAll("div.job-bar-name").data(selectedJobSkills)),c=r.selectAll("div.job-bar").data(selectedJobSkills),s=r.selectAll("div.job-bar-value").data(selectedJobSkills);console.log(selectedJobSkills),c.st("height","20px").st("width",function(e){return e.imp+"px"}).st("background","black"),l.text(function(e){return keyObjectSkillName[e.skill_id]}),s.text(function(e){return e.imp})}).on("mouseleave",function(){jobTooltip.st("visibility","hidden")})}]))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=loadScatterplot},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(o(1)),n=a(o(0));function a(e){return e&&e.__esModule?e:{default:e}}window.innerWidth,t.default={init:function(){var e=d3.select("body").append("div.buttons-container"),t=e.append("div.transition-button.all-skills").text("AllSkills"),o=(e.append("div.transition-button.skill-difference").text("DifferenceInSkills"),e.append("div.transition-button.skill-stack-difference").text("StackDifference"),e.append("div.transition-button.all-skills-difference").text("StackAllSkills"),e.append("div.transition-button.only-similarity-axis").text("showSingleAxisSimilarity"),e.append("div.transition-button.final-scatter").text("showScatter"));t.on("click",function(){return(0,n.default)()}),o.on("click",function(){return(0,i.default)()})},resize:function(){}}},function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return i.android()||i.blackberry()||i.ios()||i.opera()||i.windows()}};t.default=i},function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},function(e,t,o){(function(t){var o=NaN,i="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function("return this")(),b=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return u.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function k(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&b.call(e)==i}(e))return o;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=r.test(e);return s||l.test(e)?c(e.slice(2),s?2:8):a.test(e)?o:+e}e.exports=function(e,t,o){var i,n,a,r,l,c,s=0,d=!1,u=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function j(t){var o=i,a=n;return i=n=void 0,s=t,r=e.apply(a,o)}function y(e){var o=e-c;return void 0===c||o>=t||o<0||u&&e-s>=a}function h(){var e=m();if(y(e))return S(e);l=setTimeout(h,function(e){var o=t-(e-c);return u?p(o,a-(e-s)):o}(e))}function S(e){return l=void 0,b&&i?j(e):(i=n=void 0,r)}function x(){var e=m(),o=y(e);if(i=arguments,n=this,c=e,o){if(void 0===l)return function(e){return s=e,l=setTimeout(h,t),d?j(e):r}(c);if(u)return l=setTimeout(h,t),j(c)}return void 0===l&&(l=setTimeout(h,t)),r}return t=k(t)||0,v(o)&&(d=!!o.leading,a=(u="maxWait"in o)?f(k(o.maxWait)||0,t):a,b="trailing"in o?!!o.trailing:b),x.cancel=function(){void 0!==l&&clearTimeout(l),s=0,i=c=n=l=void 0},x.flush=function(){return void 0===l?r:S(m())},x}}).call(this,o(4))},function(e,t,o){"use strict";var i=r(o(5)),n=r(o(3)),a=r(o(2));function r(e){return e&&e.__esModule?e:{default:e}}var l=d3.select("body"),c=0;l.classed("is-mobile",n.default.any()),window.addEventListener("resize",(0,i.default)(function(){var e=l.node().offsetWidth;c!==e&&(c=e,a.default.resize())},150)),a.default.init()}]);